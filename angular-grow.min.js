!function(){angular.module("growingInput").directive("grow",["$timeout",function(e){function t(t,i,r){function o(){var e="keydown keyup keypress change blur focus";n||(e+=" keyup.expanding"),this.$textarea.bind(e,function(){a()})}function a(){var e=this.$textarea.val().replace(/\r\n/g,"\n");this.$textCopy.text(e)}function s(){this._oldTextareaStyles=this.$textarea.attr("style"),this.$textarea.css({margin:0,webkitBoxSizing:"border-box",mozBoxSizing:"border-box",boxSizing:"border-box",width:"100%"})}function l(){var e={display:"block",border:"0 solid",visibility:"hidden",minHeight:this.$textarea.prop("offsetHeight")};"off"===this.$textarea.attr("wrap")?e.overflowX="scroll":e.whiteSpace="pre-wrap",this.$clone.css(e),p()}function p(){e(function(){var e=this,t=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","wordWrap","word-break","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","paddingLeft","paddingRight","paddingTop","paddingBottom","maxHeight"];angular.forEach(t,function(t){var i=c[t];e.$clone.css(t)!==i&&(e.$clone.css(t,i),"maxHeight"===t&&"none"!==i&&e.$clone.css("overflow","hidden"))})},1e3)}function d(){this.$textarea.css({position:"absolute",top:0,left:0,height:"100%",resize:"none","overflow-x":"hidden","overflow-y":"scroll"})}var c=window.getComputedStyle(i[0],null);this.$textarea=i,this.$textCopy=angular.element("<span />"),this.$clone=angular.element("<pre class='expanding-clone'><br /></pre>").prepend(this.$textCopy),this.$wrapper=angular.element("<div class='expanding-wrapper' style='position:relative' />"),s(),l(),d(),this.$textarea.css({margin:0,"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",width:"100%","max-height":parseInt(r.grow||100)+"px"}).wrap(this.$wrapper).after(this.$clone),o(),a()}var i=function(){var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!==i.exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),n="oninput"in document.createElement("input")&&9!==i;return{restrict:"A",link:t}}])}();